<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<ui:composition template="#{loginMB.menuPadrao}"
	xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
	<ui:define name="conteudo">
		<p:growl id="msgs" showDetail="true" autoUpdate="true"/>
		<p:panel header="Cadastro de Usuários" > 
			<p:panel id="pCampos">
				<p:outputLabel value="Login: " for="txtLogin" />
		    	<p:inputText id="txtLogin" value="#{usuarioMB.usuario.email}" style="width:100px"/>
		    	<br />
		    	<p:outputLabel value="Nome: " for="txtNome" />
		    	<p:inputText id="txtNome" value="#{usuarioMB.usuario.nome}" style="width:300px"/>
		    	<br />		    	
		    	<br />
				<p:commandButton update="form:pCampos, dtUsuarios" value="Salvar" icon="ui-icon-disk" action="#{usuarioMB.salvar}"/>			
				
				<br />
			</p:panel>
			<br />
			<p:dataTable var="u" id="dtUsuarios" value="#{usuarioMB.listaUsuarios}" rows="4" paginator="true">
				<f:facet name="header">Usuários Cadastrados</f:facet>
			    <p:column headerText="Login" sortBy="#{u.email}" filterBy="#{u.email}" filterMatchMode="contains">
		        	<h:outputText value="#{u.email}" />			        
			    </p:column>
			    <p:column headerText="Nome" sortBy="#{u.nome}" filterBy="#{u.nome}" filterMatchMode="contains">
		        	<h:outputText value="#{u.nome}" />			        
			    </p:column>
			    		
		        <p:column style="width:32px">
		        	<p:commandLink update="form:pCampos, dtUsuarios" action="#{usuarioMB.remover(u)}" value="Excluir" />  	
		        </p:column>		        
			</p:dataTable>
		</p:panel>  
	</ui:define>
</ui:composition>  